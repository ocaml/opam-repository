opam-version: "2.0"
maintainer: "Lukasz Stafiniak <lukstafi@gmail.com>"
authors: [
    "NVidia"
]
homepage: "https://docs.nvidia.com/cuda/"
license: "CUDA Toolkit End User License Agreement <https://docs.nvidia.com/cuda/eula/index.html>"
# We do not restrict availability to let users install CUDA themselves.
build: [
  ["sh" "-exc" "echo \"#include  \\\"cuda.h\\\"\\n#include  \\\"nvrtc.h\\\"\" > test.c"]
  ["sh" "-exc" "cc -c $CFLAGS -I/usr/local/cuda/include test.c"]
]
depexts: [
  "cuda-cudart-12-4"
  "cuda-cudart-dev-12-4"
  "cuda-runtime-12-4"
  "cuda-nvrtc-12-4"
  "cuda-nvrtc-dev-12-4"
]
messages: [
  "WARNING: under WSL, manually install CUDA before installing this package, see https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#network-repo-installation-for-wsl"
  {os = "linux"}
]
synopsis: "Virtual package relying on a CUDA system installation"
description:
  "This package can only install if CUDA is installed on the system."
bug-reports: "https://github.com/ocaml/opam-repository/issues"
flags: conf
