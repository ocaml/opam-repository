
synopsis: "An OCaml interface to RocksDB (generated by ocaml-cppffigen"
description:
"""
This is an OCaml interface to RocksDB, generated by the ocaml-cppffigen tool
"""
opam-version: "2.0"
x-maintenance-intent: [ "(latest)" ]
maintainer: "Chet Murthy <chetsky@gmail.com>"
authors: ["Chet Murthy"]
homepage: "https://github.com/chetmurthy/ocaml-rocksdb"
license: "Apache-2.0"
bug-reports: "https://github.com/chetmurthy/ocaml-rocksdb/issues"
dev-repo: "git+https://github.com/chetmurthy/ocaml-rocksdb.git"
doc: "https://github.com/chetmurthy/ocaml-rocksdb/doc"

depends: [
  "ocaml"       { >= "4.10.0" }
  "camlp5-buildscripts" { >= "0.02" }
  "not-ocamlfind" { >= "0.10" }
  "cppffigen"
  "conf-g++"
  "conf-snappy"
  "conf-zlib"
  "conf-liblz4"
  "conf-libbz2"
  "conf-rocksdb-ge-5-17-2"
  "result"
  "core"
  "ounit" { >= "2.2.7" & with-test}
]
build: [
  [make
   "BACKLEVEL_ROCKSDB=1" {
    (arch = "x86_64" & os-distribution = "debian" & (os-version = 11 | os-version = 12)) |
    (arch = "x86_64" & os-distribution = "ubuntu" & (os-version = "20.04" | os-version = "22.04"))
   }
   "sys"]
  [make
   "BACKLEVEL_ROCKSDB=1" {
    (arch = "x86_64" & os-distribution = "debian" & (os-version = 11 | os-version = 12)) |
    (arch = "x86_64" & os-distribution = "ubuntu" & (os-version = "20.04"))
   }
   "test"] {with-test}
]
install: [
  [make
   "BACKLEVEL_ROCKSDB=1" {
    (arch = "x86_64" & os-distribution = "debian" & (os-version = 11 | os-version = 12)) |
    (arch = "x86_64" & os-distribution = "ubuntu" & (os-version = "20.04"))
   }
   "install"]
]
url {
  src: "https://github.com/chetmurthy/ocaml-rocksdb/archive/refs/tags/0.02.tar.gz"
  checksum: [
    "sha512=b2b2b36b4c34ee7cc158dbe8d0eeff6955d36f5d665ec8e78a899635bd8ac3f3c7a956132b95d0096304f7fbd8a6c4034527eeb951a3a26e4cc12b17e6fc0d87"
  ]
}
