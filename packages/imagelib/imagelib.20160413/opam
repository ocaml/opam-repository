opam-version: "2.0"
maintainer: "Christophe Raffalli <raffalli@univ-savoie.fr>"
authors: "Rodolphe Lepigre <rodolphe@lepigre.fr>"
homepage: "http://patoline.org/tools.html"
bug-reports: "Rodolphe Lepigre <rodolphe@lepigre.fr>"
license: "LGPL-3.0"
dev-repo: "darcs://patoline.org/darcs/imagelib"
build: [make]
install: [make "install"]
remove: [make "uninstall"]
depends: [
  "ocaml" {>= "3.12.1"}
  "ocamlfind" {build}
  "ocamlbuild" {build}
  "camlzip"
]
post-messages: [
  "imagelib requires convert (imagemagick) to handle format other than png and ppm."
]
synopsis: "The imagelib library implements image formats such as PNG or PPM"
description: """
The imagelib library implements image formats such as PNG or PPM  in
OCaml, relying on only one external dependency: camlzip. However, we
plan to reimplement zlib in OCaml at some point.

Supported image formats:
 - PNG (full implementation of RCF 2083),
 - PPM, PGM, PBM, ... (fully supported),
 - JPG (only image size natively, conversion to PNG otherwise),
 - GIF (only image size natively, conversion to PNG otherwise),
 - XCF (only image size natively, conversion to PNG otherwise),
 - Other formats rely on convert (imagemagick).

As imagelib only requires camlzip, it is suitable for compilation to
javascript using js_of_ocaml (only for operations not requireing the
convert binary)."""
url {
  src: "http://patoline.org/archive/imagelib/imagelib_20160413.tar.gz"
  checksum: "md5=b24402c12c50c8d891735ae3c03ceae9"
}
