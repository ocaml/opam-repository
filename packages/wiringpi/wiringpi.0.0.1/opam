opam-version: "2.0"
maintainer: "marek@xivilization.net"
homepage: "https://github.com/Leonidas-from-XIV/ocaml-wiringpi"
license: "LGPL-3 with OCaml linking exception"
build: [
  ["ocaml" "setup.ml" "-configure" "--prefix" prefix]
  ["ocaml" "setup.ml" "-build"]
]
remove: [
  ["ocamlfind" "remove" "WiringPi"]
]
depends: [
  "ocaml"
  "ocamlfind"
  "ocamlbuild" {build}
]
post-messages: [
  "
  This package requires WiringPi development files installed.
  Tentative instructions : https://gist.githubusercontent.com/Leonidas-from-XIV/a1a7315ac01f7fbee3f0/raw
  "
  {failure}
]
available: os = "linux"
install: ["ocaml" "setup.ml" "-install"]
synopsis: "WiringPi for OCaml, low level Raspberry Pi hardware access"
description: """
WiringPi is a library that allows easy, Arduino-like access to hardware
functionality (GPIO pins mostly) of the Raspberry Pi minicomputer. That library
is written in C so what this package does is to provide a simple interface to
use the C library from OCaml. The API is unchanged (even the capitalization) to
provide an interface which is as similar as possible to the code that it is
based upon.

Please note that you need to install the WiringPi library first, as it is not
included in this package. Otherwise compilation will fail."""
flags: light-uninstall
url {
  src:
    "https://github.com/Leonidas-from-XIV/ocaml-wiringpi/releases/download/0.0.1/ocaml-wiringpi-0.0.1.tar.gz"
  checksum: "md5=46076ba8b12691c6a366189de0f86613"
}
