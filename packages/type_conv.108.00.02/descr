Factors out functionality needed by different preprocessors that generate code from type specifications
