opam-version: "2.0"

authors: ["rajdakin"]
maintainer: "engineering@wasmer.io"
license: "MIT"
homepage: "https://github.com/wasmerio/wasmer-ocaml"
doc: "https://github.com/wasmerio/wasmer-ocaml"
bug-reports: "https://github.com/wasmerio/wasmer-ocaml/issues"
dev-repo: "git+https://github.com/wasmerio/wasmer-ocaml.git"
tags: ["org:wasmer"]
url {
	src: "https://github.com/wasmerio/wasmer-ocaml/archive/refs/tags/v1.1.0.tar.gz"
	checksum: [
		"md5=bec93ddc0de9347c0cc95b4bbafaff57"
		"sha512=ef94c57c9443a31e060342cd7863921cba620395418f40238d1e14a35e2738a4480a86d157e6ca3f0a9b0e1d3728315a6e0eab45ff9b055b4b0c0b6f12a22bb1"
	]
}

synopsis: "The official Wasmer bindings for OCaml"

depends: [
	"ocaml" {>= "4.14.1"}
	"ocamlfind"
	"ctypes"
	"ctypes-foreign"
	"libwasmer"
]
build: [
	[make "all" "SILENT=0" "INSTALL=%{_:lib}%" "LIBRARY_PATH=%{libwasmer:lib}%"]
]
run-test: [make "check" "SILENT=0" "LD_DEBUG=libs"]
install: [make "install" "SILENT=0"]
