opam-version: "2.0"
maintainer: "dave.scott@citrix.com"
authors: "Dave Scott"
homepage: "https://github.com/mirage/xentropyd"
bug-reports: "https://github.com/mirage/xentropyd/issues"
license: "ISC"
build: [
  ["ocaml" "setup.ml" "-configure"]
  ["ocaml" "setup.ml" "-build"]
]
depends: [
  "ocaml" {>= "4.01.0"}
  "cstruct" {>= "0.6.0"}
  "lwt"
  "sexplib" {< "113.01.00"}
  "ocamlfind"
  "io-page" {< "1.3.0"}
  "xen-evtchn"
  "xen-gnt"
  "shared-memory-ring"
  "cmdliner"
  "cstruct" {< "2.0.0"}
  "mirage-clock-unix"
  "mirage-types" {< "2.3.0"}
  "ipaddr"
  "uri"
  "stringext"
  "ocamlbuild" {build}
]
depexts: [
  ["libxen-dev" "uuid-dev"] {os-distribution = "debian"}
  ["libxen-dev" "uuid-dev"] {os-distribution = "ubuntu"}
  ["xen-devel"] {os-distribution = "centos"}
  ["xen-dom0-libs-devel" "xen-libs-devel"] {os = "xenserver"}
]
dev-repo: "git://github.com/mirage/xentropyd"
install: ["cp" "main.native" "%{bin}%/xentropyd"]
synopsis: "Xentropyd: provide entropy to Xen VMs"
description: """
It is difficult to find good entropy sources in a virtualised environment,
since VMs do not have direct access to real hardware devices. Xentropyd
is a stand-alone service which runs in domain 0 (like xenconsoled), connecting
to domains and offering them entropy from the host, subject to a rate-limit.

This is similar to virtio-rng."""
url {
  src: "https://github.com/mirage/xentropyd/archive/v0.9.1.tar.gz"
  checksum: "md5=e56914ae847fc280e66d836a3d8fba4a"
}
