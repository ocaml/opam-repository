opam-version: "2.0"
maintainer: "martin@lucina.net"
authors: [
  "Dan Williams <djwillia@us.ibm.com>"
  "Martin Lucina <martin@lucina.net>"
  "Ricardo Koller <kollerr@us.ibm.com>"
]
homepage: "https://github.com/solo5/solo5"
bug-reports: "https://github.com/solo5/solo5/issues"
license: "ISC"
dev-repo: "git+https://github.com/solo5/solo5.git"
build: [make "virtio"]
install: [make "opam-virtio-install" "PREFIX=%{prefix}%"]
remove: [make "opam-virtio-uninstall" "PREFIX=%{prefix}%"]
depends: [
  "ocaml" {>= "4.02.3"}
  "conf-pkg-config"
]
conflicts: [
  "solo5-kernel-ukvm"
  "solo5-kernel-muen"
]
available: (arch = "x86_64" | arch = "x86_64") & os != "macos"
synopsis: "Solo5 sandboxed execution environment (virtio target)"
description: """
Solo5 is a sandboxed execution environment primarily intended for, but not
limited to, running applications built using various unikernels (a.k.a.
library operating systems).

This package provides the Solo5 components needed to build MirageOS unikernels
using the "virtio" target.

The "virtio" target is supported on 64-bit Linux and FreeBSD systems with
hardware virtualization, and produces unikernels suitable for running on any
virtio-compliant hypervisor.

Note that the "virtio" target provides limited support for current and future
Solo5 features and abstractions, we recommend that you use the "ukvm" target
instead."""
url {
  src: "https://github.com/Solo5/solo5/archive/v0.3.1.tar.gz"
  checksum: "md5=2a9541d71677750403569a881e662d42"
}
