# This file is generated by dune, edit dune-project instead
opam-version: "2.0"
synopsis:
  "Limit which system operations and which parts of the filesystem your program can access"
description: """
Call it as early as possible in your program so that the rest of the code runs with reduced privileges. Currently, actual enforced restrictions are implemented for these operating systems:

- OpenBSD
- Linux (only filesystem view)

Even on other operating systems, you can still use `restricted` to document which privileges your program needs. Users can then test if your program respects these promises with tools such as [pledge on Linux](https://justine.lol/pledge/). Enjoy :)"""
maintainer: ["Remove Wingman <ocaml@rw8.addy.io>"]
authors: ["Remove Wingman <ocaml@rw8.addy.io>"]
license: "AGPL-3.0-or-later"
tags: ["openbsd" "restricted"]
homepage: "https://codeberg.org/removewingman/restricted"
doc:
  "https://codeberg.org/removewingman/restricted/src/branch/main/lib/types.mli"
bug-reports: "https://codeberg.org/removewingman/restricted/issues"
depends: [
  "dune" {>= "3.17"}
  "ocaml" {>= "5.1.0"}
  "ppx_inline_test"
  "odoc" {with-doc}
]
build: [
  ["dune" "subst"] {dev}
  [
    "dune"
    "build"
    "-p"
    name
    "-j"
    jobs
    "@install"
    "@runtest" {with-test}
    "@doc" {with-doc}
  ]
]
dev-repo: "git+https://codeberg.org/removewingman/restricted.git"
url {
  src: "https://codeberg.org/removewingman/restricted/releases/download/v1.2.0/ocaml-restricted-1.2.0.tar.gz"
  checksum: [
    "md5=7395845f7dbb8d87920f739b9d65b00c"
    "sha512=967a9aef34b572363aae925f28ade2cbf900b1504b4eaa51e49b028414419e2dec6e498f34bfbaa15de93503bae9b75fa9f411202de61cb5464eb1040a9b3d51"
  ]
}
