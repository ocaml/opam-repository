make short-paths work on more polymorphic variants