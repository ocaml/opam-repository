if-then-else changes in Cmmgen