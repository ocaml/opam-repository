fix undefined left shift of negative value.