language: c
install: bash -e .travis-ci-install.sh
script: bash -e .travis-ci.sh
cache: apt
sudo: true
os:
- linux
- osx
env:
  matrix:
  - OCAML_VERSION=4.02.1 OPAM_VERSION=1.2.2
  - OCAML_VERSION=4.01.0 OPAM_VERSION=1.2.2
  - OCAML_VERSION=4.00.1 OPAM_VERSION=1.2.2
  - OCAML_VERSION=3.12.1 OPAM_VERSION=1.2.2
  - OCAML_VERSION=4.03.0 OPAM_VERSION=1.2.2
  - OCAML_VERSION=4.02.1 OPAM_VERSION=1.2.0
  - OCAML_VERSION=4.02.1 OPAM_VERSION=1.1.1
  global:
  - secure: "OVFEUCtvg+rWMvVHX1+lQFg/SMhv8KplusuQ+4JfQn3dmQ/8PMF8tomqTZXPN5SJHmkJxNpAHOSgNKTjm5mo+/QY8TPDZaizQEXHCqaFASCI14leaDvfgqglLZXwaHt4Tu1C72rT7R2zkFhh0avOtI8XwB60n0MCvS1cRaZxvmQ="
matrix:
  allow_failures:
  - env: OCAML_VERSION=4.03.0
  exclude:
  - os: osx
    env: OCAML_VERSION=4.01.0 OPAM_VERSION=1.2.2
  - os: osx
    env: OCAML_VERSION=4.00.1 OPAM_VERSION=1.2.2
  - os: osx
    env: OCAML_VERSION=3.12.1 OPAM_VERSION=1.2.2
  - os: osx
    env: OCAML_VERSION=4.03.0 OPAM_VERSION=1.2.2
  - os: osx
    env: OCAML_VERSION=4.02.1 OPAM_VERSION=1.2.0
  - os: osx
    env: OCAML_VERSION=4.02.1 OPAM_VERSION=1.1.1
notifications:
  email:
  - opam-commits@lists.ocaml.org
  irc:
  - chat.freenode.net#opam
